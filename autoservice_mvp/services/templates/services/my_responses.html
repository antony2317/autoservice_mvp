{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'services/css/my_responses.css' %}">
{% endblock %}

{% block content %}
<div class="responses-container">
    <h2>–ú–æ–∏ –æ—Ç–∫–ª–∏–∫–∏ –Ω–∞ –∑–∞—è–≤–∫–∏</h2>

    {% if responses %}
        <div class="responses-list">
            {% for response in responses %}
                <div class="response-card">
                    <h4>–ó–∞—è–≤–∫–∞ #{{ response.repair_request.id }}</h4>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ response.repair_request.description }}</p>
                    <p><strong>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è —Ü–µ–Ω–∞:</strong> {{ response.proposed_price }} ‚ÇΩ</p>
                    <p><strong>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è –¥–∞—Ç–∞ —Ä–µ–º–æ–Ω—Ç–∞:</strong> {{ response.proposed_date }}</p>
                    <small class="text-muted">–û—Ç–∫–ª–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω: {{ response.created_at|date:"d.m.Y H:i" }}</small>


                        <a href="{% url 'chat:chat_with_response' request_id=response.repair_request.id response_id=response.id %}">
                            üí¨ –ü–µ—Ä–µ–π—Ç–∏ –≤ —á–∞—Ç
                        </a>

                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>–í—ã –ø–æ–∫–∞ –Ω–µ —Å–¥–µ–ª–∞–ª–∏ –æ—Ç–∫–ª–∏–∫–æ–≤ –∏–ª–∏ –≤—Å–µ –æ—Ç–∫–ª–∏–∫–∏ –∑–∞–∫—Ä—ã—Ç—ã.</p>
    {% endif %}
</div>
{% endblock %}